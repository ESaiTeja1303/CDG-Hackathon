<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>E‑Commerce — Authentication</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;line-height:1.5;color:#1a1a1a;background:linear-gradient(180deg,#e0e7ff 0%,#f8fafc 60%);overflow-x:hidden}
    .wrap{max-width:480px;margin:32px auto;padding:24px}
    header{display:flex;align-items:center;justify-content:center;padding:16px;background:#ffffff;border-radius:16px;box-shadow:0 8px 24px rgba(15,23,42,.08);animation:slideIn 0.5s ease-out}
    .logo{width:100px;height:56px;border-radius:16px;background:linear-gradient(135deg,#6366f1,#06b6d4);display:grid;place-items:center;color:white;font-weight:800;font-size:1.2rem;box-shadow:0 6px 20px rgba(99,102,241,.2);transition:transform 0.3s ease}
    .logo:hover{transform:scale(1.05)}
    h1{font-size:1.25rem;font-weight:700;letter-spacing:-0.02em}
    .auth-container{margin-top:24px;background:#ffffff;padding:24px;border-radius:16px;box-shadow:0 10px 30px rgba(15,23,42,.06);animation:fadeInUp 0.6s ease-out}
    .auth-toggle{display:flex;gap:12px;justify-content:center;margin-bottom:24px}
    .auth-toggle button{flex:1;padding:10px;border-radius:12px;border:none;cursor:pointer;font-weight:600;font-size:0.95rem;transition:transform 0.3s ease,box-shadow 0.3s ease}
    .auth-toggle button.active{background:linear-gradient(90deg,#06b6d4,#22d3ee);color:#fff;box-shadow:0 6px 20px rgba(6,182,212,.3)}
    .auth-toggle button:not(.active){background:transparent;border:1px solid rgba(15,23,42,.1);color:#1a1a1a}
    .auth-toggle button:hover{transform:scale(1.05)}
    .auth-toggle button:not(.active):hover{background:linear-gradient(90deg,#f8fafc,#eff6ff)}
    .form-group{margin-bottom:16px}
    .form-group label{display:block;font-weight:600;font-size:0.95rem;margin-bottom:6px;color:#1a1a1a}
    .form-group input{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,.1);font-size:0.95rem;color:#1a1a1a;background:#ffffff;outline:none;transition:border-color 0.3s ease}
    .form-group input:focus{border-color:#6366f1}
    .form-group input::placeholder{color:#94a3b8}
    .error-message{color:#f43f5e;font-size:0.9rem;margin-top:4px;display:none}
    .submit-btn{width:100%;padding:12px;border-radius:12px;border:none;background:linear-gradient(90deg,#4f46e5,#06b6d4);color:#fff;font-weight:600;cursor:pointer;transition:transform 0.3s ease,box-shadow 0.3s ease}
    .submit-btn:hover{transform:scale(1.05);box-shadow:0 8px 24px rgba(79,70,229,.3)}
    .submit-btn:disabled{opacity:0.6;cursor:not-allowed}
    .link{text-align:center;margin-top:16px}
    .link a{color:#6366f1;text-decoration:none;font-size:0.95rem}
    .link a:hover{text-decoration:underline}
    footer{margin-top:40px;padding:24px;background:rgba(255,255,255,.95);backdrop-filter:blur(12px);border-radius:16px;box-shadow:0 10px 30px rgba(15,23,42,.06);text-align:center;color:#64748b;font-size:0.9rem}
    @keyframes slideIn{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}
    @keyframes fadeInUp{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}
    @media(max-width:600px){.wrap{padding:16px}.auth-container{padding:16px}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">VSS KART</div>
    </header>

    <div class="auth-container">
      <div class="auth-toggle">
        <button id="loginToggle" class="active">Login</button>
        <button id="registerToggle">Register</button>
      </div>

      <form id="loginForm">
        <div class="form-group">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" placeholder="Enter your email" required />
          <div class="error-message" id="loginEmailError">Please enter a valid email</div>
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" placeholder="Enter your password" required />
          <div class="error-message" id="loginPasswordError">Password must be at least 6 characters</div>
        </div>
        <button type="submit" class="submit-btn">Login</button>
        <div class="link">
          <a href="#" id="forgotPassword">Forgot password?</a>
        </div>
      </form>

      <form id="registerForm" style="display:none">
        <div class="form-group">
          <label for="registerName">Full Name</label>
          <input type="text" id="registerName" placeholder="Enter your full name" required />
          <div class="error-message" id="registerNameError">Name must be at least 2 characters</div>
        </div>
        <div class="form-group">
          <label for="registerEmail">Email</label>
          <input type="email" id="registerEmail" placeholder="Enter your email" required />
          <div class="error-message" id="registerEmailError">Please enter a valid email</div>
        </div>
        <div class="form-group">
          <label for="registerPassword">Password</label>
          <input type="password" id="registerPassword" placeholder="Create a password" required />
          <div class="error-message" id="registerPasswordError">Password must be at least 6 characters</div>
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" placeholder="Confirm your password" required />
          <div class="error-message" id="confirmPasswordError">Passwords do not match</div>
        </div>
        <button type="submit" class="submit-btn">Register</button>
      </form>
    </div>

    <footer>
      &copy; 2025 VSS KART Demo. All rights reserved.
    </footer>
  </div>

  <script>
    // Helper to simulate password hashing (for demo purposes)
    function simpleHash(str) {
      let hash = 0;
      for (let i = 0; i < str.length; i++) {
        hash = ((hash << 5) - hash) + str.charCodeAt(i);
        hash |= 0; // Convert to 32bit integer
      }
      return hash;
    }

    // Helper to validate email
    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    // Helper to get elements
    const $ = id => document.getElementById(id);

    // Toggle between login and register forms
    $('loginToggle').addEventListener('click', () => {
      $('loginToggle').classList.add('active');
      $('registerToggle').classList.remove('active');
      $('loginForm').style.display = 'block';
      $('registerForm').style.display = 'none';
    });

    $('registerToggle').addEventListener('click', () => {
      $('registerToggle').classList.add('active');
      $('loginToggle').classList.remove('active');
      $('registerForm').style.display = 'block';
      $('loginForm').style.display = 'none';
    });

    // Load users from localStorage
    function loadUsers() {
      try {
        return JSON.parse(localStorage.getItem('ec_users') || '{}');
      } catch (e) {
        return {};
      }
    }

    // Save users to localStorage
    function saveUsers(users) {
      localStorage.setItem('ec_users', JSON.stringify(users));
    }

    // Register form submission
    $('registerForm').addEventListener('submit', e => {
      e.preventDefault();
      const name = $('registerName').value.trim();
      const email = $('registerEmail').value.trim();
      const password = $('registerPassword').value;
      const confirmPassword = $('confirmPassword').value;

      // Reset error messages
      ['registerNameError', 'registerEmailError', 'registerPasswordError', 'confirmPasswordError'].forEach(id => {
        $(id).style.display = 'none';
      });

      let hasError = false;

      // Validate inputs
      if (name.length < 2) {
        $('registerNameError').style.display = 'block';
        hasError = true;
      }
      if (!isValidEmail(email)) {
        $('registerEmailError').style.display = 'block';
        hasError = true;
      }
      if (password.length < 6) {
        $('registerPasswordError').style.display = 'block';
        hasError = true;
      }
      if (password !== confirmPassword) {
        $('confirmPasswordError').style.display = 'block';
        hasError = true;
      }

      if (hasError) return;

      // Check if email already exists
      const users = loadUsers();
      if (users[email]) {
        $('registerEmailError').textContent = 'Email already registered';
        $('registerEmailError').style.display = 'block';
        return;
      }

      // Save user
      users[email] = {
        name,
        password: simpleHash(password), // Simulate password hashing
        registeredAt: new Date().toISOString()
      };
      saveUsers(users);

      alert('Registration successful! Please login.');
      $('registerToggle').classList.remove('active');
      $('loginToggle').classList.add('active');
      $('registerForm').style.display = 'none';
      $('loginForm').style.display = 'block';
      $('registerForm').reset();
    });

    // Login form submission
    $('loginForm').addEventListener('submit', e => {
      e.preventDefault();
      const email = $('loginEmail').value.trim();
      const password = $('loginPassword').value;

      // Reset error messages
      ['loginEmailError', 'loginPasswordError'].forEach(id => {
        $(id).style.display = 'none';
      });

      let hasError = false;

      // Validate inputs
      if (!isValidEmail(email)) {
        $('loginEmailError').style.display = 'block';
        hasError = true;
      }
      if (password.length < 6) {
        $('loginPasswordError').style.display = 'block';
        hasError = true;
      }

      if (hasError) return;

      // Check credentials
      const users = loadUsers();
      if (!users[email] || users[email].password !== simpleHash(password)) {
        $('loginPasswordError').textContent = 'Invalid email or password';
        $('loginPasswordError').style.display = 'block';
        return;
      }

      // Simulate login session
      localStorage.setItem('ec_current_user', email);
      alert(`Welcome back, ${users[email].name}!`);
      $('loginForm').reset();
      window.location.href = 'home.html'; // Redirect to landing page
    });

    // Forgot password (simple simulation)
    $('forgotPassword').addEventListener('click', e => {
      e.preventDefault();
      alert('Password reset simulation: Please check your email for a reset link.');
    });
  </script>
</body>
</html>