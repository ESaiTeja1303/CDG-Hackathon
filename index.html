<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>E‑Commerce — Authentication</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
      line-height:1.5;
      color:#18122B;
      background:linear-gradient(135deg,#a18cd1 0%,#fbc2eb 50%,#fcb69f 100%);
      min-height:100vh;
      overflow-x:hidden;
    }
    .wrap{max-width:480px;margin:32px auto;padding:24px}
    header{
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
      background:rgba(255,255,255,0.85);
      border-radius:20px;
      box-shadow:0 8px 32px rgba(161,140,209,.13), 0 1.5px 8px rgba(252,182,159,.10);
      backdrop-filter:blur(8px);
      animation:slideIn 0.5s ease-out;
    }
    .logo{

      padding: 5px;
      display:grid;
      place-items:center;
      color:#a18cd1;
      font-weight:900;
      font-size:1.45rem;
      box-shadow:0 8px 32px rgba(161,140,209,.22), 0 2px 8px #fbc2eb55;
      letter-spacing:3px;
      border:2.5px solid #fbc2eb;
      margin:12px auto 18px auto;
      text-shadow:0 2px 12px #a18cd1cc, 0 1px 0 #fff;
      transition:transform 0.3s,box-shadow 0.3s;
      border-radius: 8px;
      
    }
    .logo:hover{
      transform:scale(1.08) rotate(-2deg);
      box-shadow:0 16px 40px rgba(161,140,209,.22), 0 0 0 4px #fbc2eb44;
    }
    h1{font-size:1.25rem;font-weight:700;letter-spacing:-0.02em}
    .auth-container{
      margin-top:24px;
      background:rgba(255,255,255,0.92);
      padding:24px;
      border-radius:20px;
      box-shadow:0 10px 36px rgba(161,140,209,.08);
      animation:fadeInUp 0.6s ease-out;
      backdrop-filter:blur(8px);
    }
    .auth-toggle{
      display:flex;
      gap:12px;
      justify-content:center;
      margin-bottom:24px;
    }
    .auth-toggle button{
      flex:1;
      padding:10px;
      border-radius:12px;
      border:none;
      cursor:pointer;
      font-weight:600;
      font-size:0.95rem;
      transition:transform 0.3s,box-shadow 0.3s,background 0.3s,color 0.3s;
      background:transparent;
      color:#a18cd1;
      border:1.5px solid #a18cd1;
    }
    .auth-toggle button.active{
      background:linear-gradient(90deg,#a18cd1 60%,#fbc2eb 100%);
      color:#fff;
      box-shadow:0 6px 20px rgba(161,140,209,.13);
      border:none;
    }
    .auth-toggle button:not(.active):hover{
      background:linear-gradient(90deg,#fbc2eb 60%,#fcb69f 100%);
      color:#fff;
      border-color:#fbc2eb;
      transform:scale(1.05);
    }
    .form-group{margin-bottom:16px}
    .form-group label{
      display:block;
      font-weight:600;
      font-size:0.95rem;
      margin-bottom:6px;
      color:#a18cd1;
    }
    .form-group input{
      width:100%;
      padding:10px;
      border-radius:10px;
      border:1.5px solid #a18cd1;
      font-size:0.95rem;
      color:#1a1a1a;
      background:#fff;
      outline:none;
      transition:border-color 0.3s;
    }
    .form-group input:focus{border-color:#f857a6}
    .form-group input::placeholder{color:#a5b4fc}
    .error-message{
      color:#f857a6;
      font-size:0.9rem;
      margin-top:4px;
      display:none
    }
    .submit-btn{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:none;
      background:linear-gradient(90deg,#a18cd1 60%,#fbc2eb 100%);
      color:#fff;
      font-weight:700;
      cursor:pointer;
      font-size:1.01rem;
      transition:transform 0.2s,background 0.2s,box-shadow 0.2s;
      box-shadow:0 2px 8px rgba(161,140,209,.13);
    }
    .submit-btn:hover{
      transform:scale(1.05);
      background:linear-gradient(90deg,#fbc2eb 60%,#a18cd1 100%);
      box-shadow:0 8px 24px rgba(161,140,209,.18);
    }
    .submit-btn:disabled{opacity:0.6;cursor:not-allowed}
    .link{text-align:center;margin-top:16px}
    .link a{color:#a18cd1;text-decoration:none;font-size:0.95rem;transition:color 0.3s;}
    .link a:hover{text-decoration:underline;color:#f857a6;}
    footer{
      margin-top:40px;
      padding:24px;
      background:rgba(255,255,255,.93);
      border-radius:20px;
      box-shadow:0 10px 36px rgba(161,140,209,.10);
      text-align:center;
      color:#a5b4fc;
      font-size:0.97rem;
      letter-spacing:0.5px;
      backdrop-filter:blur(10px);
      border:2px solid #fbc2eb;
    }
    @keyframes slideIn{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}
    @keyframes fadeInUp{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}
    @media(max-width:600px){
      .wrap{padding:10px}
      .auth-container{padding:10px}
      header{padding:8px;}
      footer{padding:10px;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">VSS KART</div>
    </header>

    <div class="auth-container">
      <div class="auth-toggle">
        <button id="loginToggle" class="active">Login</button>
        <button id="registerToggle">Register</button>
      </div>

      <form id="loginForm">
        <div class="form-group">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" placeholder="Enter your email" required />
          <div class="error-message" id="loginEmailError">Please enter a valid email</div>
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" placeholder="Enter your password" required />
          <div class="error-message" id="loginPasswordError">Password must be at least 6 characters</div>
        </div>
        <button type="submit" class="submit-btn">Login</button>
        <div class="link">
          <a href="#" id="forgotPassword">Forgot password?</a>
        </div>
      </form>

      <form id="registerForm" style="display:none">
        <div class="form-group">
          <label for="registerName">Full Name</label>
          <input type="text" id="registerName" placeholder="Enter your full name" required />
          <div class="error-message" id="registerNameError">Name must be at least 2 characters</div>
        </div>
        <div class="form-group">
          <label for="registerEmail">Email</label>
          <input type="email" id="registerEmail" placeholder="Enter your email" required />
          <div class="error-message" id="registerEmailError">Please enter a valid email</div>
        </div>
        <div class="form-group">
          <label for="registerPassword">Password</label>
          <input type="password" id="registerPassword" placeholder="Create a password" required />
          <div class="error-message" id="registerPasswordError">Password must be at least 6 characters</div>
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" placeholder="Confirm your password" required />
          <div class="error-message" id="confirmPasswordError">Passwords do not match</div>
        </div>
        <button type="submit" class="submit-btn">Register</button>
      </form>
    </div>

    <footer>
      &copy; 2025 VSS KART Demo. All rights reserved.
    </footer>
  </div>

  <script>
    // Helper to simulate password hashing (for demo purposes)
    function simpleHash(str) {
      let hash = 0;
      for (let i = 0; i < str.length; i++) {
        hash = ((hash << 5) - hash) + str.charCodeAt(i);
        hash |= 0; // Convert to 32bit integer
      }
      return hash;
    }

    // Helper to validate email
    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    // Helper to get elements
    const $ = id => document.getElementById(id);

    // Toggle between login and register forms
    $('loginToggle').addEventListener('click', () => {
      $('loginToggle').classList.add('active');
      $('registerToggle').classList.remove('active');
      $('loginForm').style.display = 'block';
      $('registerForm').style.display = 'none';
    });

    $('registerToggle').addEventListener('click', () => {
      $('registerToggle').classList.add('active');
      $('loginToggle').classList.remove('active');
      $('registerForm').style.display = 'block';
      $('loginForm').style.display = 'none';
    });

    // Load users from localStorage
    function loadUsers() {
      try {
        return JSON.parse(localStorage.getItem('ec_users') || '{}');
      } catch (e) {
        return {};
      }
    }

    // Save users to localStorage
    function saveUsers(users) {
      localStorage.setItem('ec_users', JSON.stringify(users));
    }

    // Register form submission
    $('registerForm').addEventListener('submit', e => {
      e.preventDefault();
      const name = $('registerName').value.trim();
      const email = $('registerEmail').value.trim();
      const password = $('registerPassword').value;
      const confirmPassword = $('confirmPassword').value;

      // Reset error messages
      ['registerNameError', 'registerEmailError', 'registerPasswordError', 'confirmPasswordError'].forEach(id => {
        $(id).style.display = 'none';
      });

      let hasError = false;

      // Validate inputs
      if (name.length < 2) {
        $('registerNameError').style.display = 'block';
        hasError = true;
      }
      if (!isValidEmail(email)) {
        $('registerEmailError').style.display = 'block';
        hasError = true;
      }
      if (password.length < 6) {
        $('registerPasswordError').style.display = 'block';
        hasError = true;
      }
      if (password !== confirmPassword) {
        $('confirmPasswordError').style.display = 'block';
        hasError = true;
      }

      if (hasError) return;

      // Check if email already exists
      const users = loadUsers();
      if (users[email]) {
        $('registerEmailError').textContent = 'Email already registered';
        $('registerEmailError').style.display = 'block';
        return;
      }

      // Save user
      users[email] = {
        name,
        password: simpleHash(password), // Simulate password hashing
        registeredAt: new Date().toISOString()
      };
      saveUsers(users);

      alert('Registration successful! Please login.');
      $('registerToggle').classList.remove('active');
      $('loginToggle').classList.add('active');
      $('registerForm').style.display = 'none';
      $('loginForm').style.display = 'block';
      $('registerForm').reset();
    });

    // Login form submission
    $('loginForm').addEventListener('submit', e => {
      e.preventDefault();
      const email = $('loginEmail').value.trim();
      const password = $('loginPassword').value;

      // Reset error messages
      ['loginEmailError', 'loginPasswordError'].forEach(id => {
        $(id).style.display = 'none';
      });

      let hasError = false;

      // Validate inputs
      if (!isValidEmail(email)) {
        $('loginEmailError').style.display = 'block';
        hasError = true;
      }
      if (password.length < 6) {
        $('loginPasswordError').style.display = 'block';
        hasError = true;
      }

      if (hasError) return;

      // Check credentials
      const users = loadUsers();
      if (!users[email] || users[email].password !== simpleHash(password)) {
        $('loginPasswordError').textContent = 'Invalid email or password';
        $('loginPasswordError').style.display = 'block';
        return;
      }

      // Simulate login session
      localStorage.setItem('ec_current_user', email);
      alert(`Welcome back, ${users[email].name}!`);
      $('loginForm').reset();
      window.location.href = 'home.html'; // Redirect to landing page
    });

    // Forgot password (simple simulation)
    $('forgotPassword').addEventListener('click', e => {
      e.preventDefault();
      alert('Password reset simulation: Please check your email for a reset link.');
    });
  </script>
</body>
</html>